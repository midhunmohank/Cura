{"ast":null,"code":"var _jsxFileName = \"E:\\\\xampp_7.4\\\\htdocs\\\\cura\\\\src\\\\components\\\\tests.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport ApiFunctions from \"../ApiFunctions\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport useToken from \"./admin/useToken\";\nimport { useHistory } from \"react-router\";\nimport { Helmet } from \"react-helmet\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Prescription = () => {\n  _s();\n\n  const history = useHistory();\n  const token = useToken();\n\n  if (!token.token) {\n    history.push('/');\n  }\n\n  var user_role = \"\";\n  var role = \"\";\n  user_role = token.token.data.user_role;\n\n  if (user_role == 'staff') {\n    role = token.token.staff.role;\n  }\n\n  const [list, setList] = useState([]);\n  useEffect(() => {\n    ApiFunctions.testReport(null, {\n      headers: {\n        'Authorization': token.token.token\n      }\n    }).then(res => {\n      var data = res.data.data;\n      setList(data);\n    });\n  }, []);\n  console.log(list);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        href: require('../css/style.css').default\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      class: \"home_1 ap_img1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"heading\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Test Reports\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      class: \"patient_detail\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/#/add-staff\",\n            children: \"Add Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"heading\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Test Reports\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"patient_table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                class: \"appointment_history\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"productname_td\",\n                  children: \"S.No.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"productsize_td\",\n                  children: \"Patient Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Contact\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Sample\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Test Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Test Result\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Test By\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Payment Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Tested On\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  class: \"sellingprice_td\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this), list.map((data, id) => {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  class: \"appointment_history\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"productname_td\",\n                    children: id + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"productsize_td\",\n                    children: [data._patient_id.first_name, \" \", data._patient_id.last_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"productsize_td\",\n                    children: data._patient_id.contact_number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"sellingprice_td\",\n                    children: data.sample\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"sellingprice_td\",\n                    children: data.test_description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"sellingprice_td\",\n                    children: data.test_result\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"sellingprice_td\",\n                    children: [\"$\", data.amount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"sellingprice_td\",\n                    children: data._test_by.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"sellingprice_td\",\n                    children: data.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"sellingprice_td\",\n                    children: moment(data.tested_on).format(\"DD-MM-YYYY\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 29\n                  }, this), user_role === 'patient' && data.is_amount_paid === 'No' ? /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"subtotal_td\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/#/update-appointment-status/\" + data._id,\n                      children: \" Pay Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 33\n                  }, this) : /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"subtotal_td\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/#/patient-detail/\" + data._patient_id._id,\n                      children: \" Update Result\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 34\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 33\n                  }, this), user_role === 'staff' && !data.status === 'No' ? /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"subtotal_td\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/#/update-appointment-status/\" + data._id,\n                      children: \" Pay Amount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 33\n                  }, this) : /*#__PURE__*/_jsxDEV(\"td\", {\n                    class: \"subtotal_td\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"/#/patient-detail/\" + data._patient_id._id,\n                      children: \" Update Result\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 34\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 24\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Prescription, \"94LnjyTUSxB5r7oTxXWQBL/fzI8=\", false, function () {\n  return [useHistory, useToken];\n});\n\n_c = Prescription;\nexport default Prescription;\n\nvar _c;\n\n$RefreshReg$(_c, \"Prescription\");","map":{"version":3,"sources":["E:/xampp_7.4/htdocs/cura/src/components/tests.js"],"names":["useEffect","useState","ApiFunctions","Header","Footer","useToken","useHistory","Helmet","moment","Prescription","history","token","push","user_role","role","data","staff","list","setList","testReport","headers","then","res","console","log","require","default","map","id","_patient_id","first_name","last_name","contact_number","sample","test_description","test_result","amount","_test_by","name","status","tested_on","format","is_amount_paid","_id"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport ApiFunctions from \"../ApiFunctions\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport useToken from \"./admin/useToken\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport moment from \"moment\";\r\n\r\n\r\n\r\n\r\nconst Prescription = () => {\r\n\r\n    const history = useHistory();\r\n    const token = useToken();\r\n\r\n\r\n    if (!token.token) {\r\n        history.push('/');\r\n    }\r\n\r\n\r\n    var user_role = \"\";\r\n    var role = \"\";\r\n    user_role = token.token.data.user_role;\r\n\r\n    if(user_role == 'staff'){\r\n        role = token.token.staff.role;\r\n    }\r\n\r\n\r\n    const [list, setList] = useState([]);\r\n    useEffect(() => {\r\n        ApiFunctions.testReport(null,{\r\n               headers:{\r\n                'Authorization': token.token.token,\r\n               }\r\n        }).then(res => {\r\n            var data = res.data.data;\r\n            setList(data)\r\n        })\r\n    }, []);\r\n\r\n    console.log(list);\r\n\r\n\r\n    return (\r\n        <div className=\"\">\r\n            <Header />\r\n            <Helmet>\r\n\t\t\t\t<link rel=\"stylesheet\" href={require('../css/style.css').default} />\r\n\t\t\t</Helmet>\r\n\r\n\r\n            <section class=\"home_1 ap_img1\">\r\n            <div class=\"container\">\r\n                <div class=\"heading\">\r\n                    <h1>Test Reports</h1>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    <section class=\"patient_detail\">\r\n        <div class=\"container\">\r\n           \r\n            <div>\r\n\r\n            <a href=\"/#/add-staff\">Add Test</a>\r\n               \r\n            </div>\r\n            <div class=\"heading\">\r\n          \r\n               <div class=\"text\">\r\n               <h2>Test Reports</h2>\r\n               </div>\r\n                \r\n            </div>\r\n            <div class=\"patient_table\">\r\n                <table>\r\n                    <tbody>\r\n                        <tr class=\"appointment_history\">\r\n                            <td class=\"productname_td\">S.No.</td>\r\n                            <td class=\"productsize_td\">Patient Name</td>\r\n                            <td class=\"sellingprice_td\">Contact</td>\r\n                            <td class=\"sellingprice_td\">Sample</td>\r\n                            <td class=\"sellingprice_td\">Test Description</td>\r\n                            <td class=\"sellingprice_td\">Test Result</td>\r\n                            <td class=\"sellingprice_td\">Amount</td>\r\n                            <td class=\"sellingprice_td\">Test By</td>\r\n                            <td class=\"sellingprice_td\">Payment Status</td>\r\n                            <td class=\"sellingprice_td\">Tested On</td>\r\n                            <td class=\"sellingprice_td\">Action</td>\r\n                        </tr>\r\n\r\n                        {list.map((data,id) => {\r\n                        return(\r\n                       \r\n                       <tr class=\"appointment_history\">\r\n                            <td class=\"productname_td\">{id+1}</td>\r\n                            <td class=\"productsize_td\">{data._patient_id.first_name} {data._patient_id.last_name}</td>\r\n                            <td class=\"productsize_td\">{data._patient_id.contact_number}</td>\r\n                            <td class=\"sellingprice_td\">{data.sample}</td>\r\n                            <td class=\"sellingprice_td\">{data.test_description}</td>\r\n                            <td class=\"sellingprice_td\">{data.test_result}</td>\r\n                            <td class=\"sellingprice_td\">${data.amount}</td>\r\n                            <td class=\"sellingprice_td\">{data._test_by.name}</td>\r\n                            <td class=\"sellingprice_td\">{data.status}</td>\r\n                            <td class=\"sellingprice_td\">{moment(data.tested_on).format(\"DD-MM-YYYY\")}</td>\r\n\r\n                            {(user_role  === 'patient' &&  data.is_amount_paid  === 'No') ? \r\n                                <td class=\"subtotal_td\">\r\n                                    <a href={\"/#/update-appointment-status/\" + data._id}> Pay Amount</a>\r\n                                    \r\n                                </td>\r\n                                : \r\n                                <td class=\"subtotal_td\">\r\n                                 <a href={\"/#/patient-detail/\" + data._patient_id._id}> Update Result</a>\r\n                                </td>\r\n                            }\r\n\r\n                            {(user_role  === 'staff' &&  !data.status  === 'No') ? \r\n                                <td class=\"subtotal_td\">\r\n                                    <a href={\"/#/update-appointment-status/\" + data._id}> Pay Amount</a>\r\n                                    \r\n                                </td>\r\n                                : \r\n                                <td class=\"subtotal_td\">\r\n                                 <a href={\"/#/patient-detail/\" + data._patient_id._id}> Update Result</a>\r\n                                </td>\r\n                            }\r\n\r\n\r\n\r\n                           \r\n                           \r\n                        </tr>\r\n\r\n                        )})} \r\n\r\n                      \r\n\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <Footer />\r\n               \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Prescription;"]},"metadata":{},"sourceType":"module"}