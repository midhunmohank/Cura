{"ast":null,"code":"import _regeneratorRuntime from\"E:/developer/xampp/htdocs/shivali/hyre/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/developer/xampp/htdocs/shivali/hyre/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/developer/xampp/htdocs/shivali/hyre/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useHistory}from\"react-router\";import{Link}from\"react-router-dom\";import ApiFunctions from\"../../ApiFunctions\";import Header from\"./Header\";import Sidebar from\"./Sidebar\";import useToken from\"./useToken\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Organizations(){var history=useHistory();var token=useToken();if(token.token){if(token.token.data.user_role!=='admin'){history.push('/admin');}}var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];useEffect(function(){ApiFunctions.getAllOrg().then(function(res){var data=res.data.data;setList(data);});},[]);var Accept=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data=new FormData();data.append('approval','approved');data.append('org_id',e.target.value);ApiFunctions.orgStatus(data,{headers:{'content-type':'multipart/form-data'}}).then(function(response){window.alert('Sucess');window.location.reload();}).catch(function(e){window.alert('Some error occured');console.log(e);});case 5:case\"end\":return _context.stop();}}},_callee);}));return function Accept(_x){return _ref.apply(this,arguments);};}();var Reject=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();data=new FormData();data.append('approval','rejected');data.append('org_id',e.target.value);ApiFunctions.orgStatus(data,{headers:{'content-type':'multipart/form-data'}}).then(function(response){window.alert('Sucess');window.location.reload();}).catch(function(e){window.alert('Some error occured');console.log(e);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function Reject(_x2){return _ref2.apply(this,arguments);};}();var InActiveStatus=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();data=new FormData();data.append('status','inactive');data.append('user_id',e.target.value);ApiFunctions.orgChangeStatus(data,{headers:{'content-type':'multipart/form-data'}}).then(function(response){window.alert('Sucess');window.location.reload();}).catch(function(e){window.alert('Some error occured');console.log(e);});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function InActiveStatus(_x3){return _ref3.apply(this,arguments);};}();var ActiveStatus=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();data=new FormData();data.append('status','active');data.append('user_id',e.target.value);ApiFunctions.orgChangeStatus(data,{headers:{'content-type':'multipart/form-data'}}).then(function(response){window.alert('Sucess');window.location.reload();}).catch(function(e){window.alert('Some error occured');console.log(e);});case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function ActiveStatus(_x4){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"wrapper\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"content-wrapper\",className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"content\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-sm-flex align-items-center justify-content-between mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-0 text-gray-800\",children:\"Organizations\"}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"index.php\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"organizations\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"list-details\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Sr. No\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Organization\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Contact No\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Approval\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:list.map(function(data,id){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:id+1}),/*#__PURE__*/_jsx(\"td\",{children:data.org_name}),/*#__PURE__*/_jsx(\"td\",{children:data.email}),/*#__PURE__*/_jsx(\"td\",{children:data.contact_number}),/*#__PURE__*/_jsx(\"td\",{children:data.approval}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:data.status===\"inactive\"?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success btn-sm\",onClick:ActiveStatus,value:data._id,children:\"Active\"})})}):data.status===\"active\"?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger btn-sm\",onClick:InActiveStatus,value:data._id,children:\"In Active\"})})}):/*#__PURE__*/_jsx(_Fragment,{})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[data.approval==='pending'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success btn-sm\",onClick:Accept,value:data._id,children:\"Accept\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger btn-sm\",onClick:Reject,value:data._id,children:\"Reject\"})})]}):data.approval==='approved'?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger btn-sm\",onClick:Reject,value:data._id,children:\"Reject\"})})}):data.approval==='rejected'?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success btn-sm\",onClick:Accept,value:data._id,children:\"Accept\"})})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/jobs-list/\"+data._id,title:\"Jobs listing\",children:/*#__PURE__*/_jsx(\"img\",{src:require('../../imgs/view.jpg').default,width:\"22\",alt:\"\"})})})]})})]},id);})})]})})})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"sticky-footer bg-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container my-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"copyright text-center my-auto\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Copyright Job 2020\"})})})})]})]})});}export default Organizations;","map":{"version":3,"sources":["E:/developer/xampp/htdocs/shivali/hyre/src/components/admin/Organizations.js"],"names":["useEffect","useState","useHistory","Link","ApiFunctions","Header","Sidebar","useToken","Organizations","history","token","data","user_role","push","list","setList","getAllOrg","then","res","Accept","e","preventDefault","FormData","append","target","value","orgStatus","headers","response","window","alert","location","reload","catch","console","log","Reject","InActiveStatus","orgChangeStatus","ActiveStatus","map","id","org_name","email","contact_number","approval","status","_id","require","default"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ApiFunctions from \"../../ApiFunctions\";\r\nimport Header from \"./Header\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport useToken from \"./useToken\";\r\n\r\n\r\n\r\n\r\n\r\nfunction Organizations() {\r\n    const history = useHistory();\r\n    const token = useToken();\r\n    if (token.token) {\r\n\r\n        if (token.token.data.user_role !== 'admin') {\r\n            history.push('/admin');\r\n        }\r\n    }\r\n    const [list, setList] = useState([]);\r\n    useEffect(() => {\r\n        ApiFunctions.getAllOrg().then(res => {\r\n            var data = res.data.data\r\n\r\n            setList(data)\r\n        })\r\n    }, []);\r\n\r\n    const Accept = async (e) => {\r\n        e.preventDefault();\r\n        var data = new FormData();\r\n        data.append('approval', 'approved');\r\n        data.append('org_id', e.target.value);\r\n\r\n        ApiFunctions.orgStatus(data, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n            window.alert('Sucess');\r\n            window.location.reload();\r\n        }).catch(e => {\r\n            window.alert('Some error occured');\r\n            console.log(e);\r\n        })\r\n    }\r\n    const Reject = async (e) => {\r\n        e.preventDefault();\r\n        var data = new FormData();\r\n        data.append('approval', 'rejected');\r\n        data.append('org_id', e.target.value);\r\n\r\n        ApiFunctions.orgStatus(data, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n            window.alert('Sucess');\r\n            window.location.reload();\r\n\r\n        }).catch(e => {\r\n            window.alert('Some error occured');\r\n            console.log(e);\r\n        })\r\n    }\r\n\r\n    const InActiveStatus = async (e) => {\r\n        e.preventDefault();\r\n        var data = new FormData();\r\n        data.append('status', 'inactive');\r\n        data.append('user_id', e.target.value);\r\n\r\n        ApiFunctions.orgChangeStatus(data, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n            window.alert('Sucess');\r\n            window.location.reload();\r\n        }).catch(e => {\r\n            window.alert('Some error occured');\r\n            console.log(e);\r\n        })\r\n    }\r\n    const ActiveStatus = async (e) => {\r\n        e.preventDefault();\r\n        var data = new FormData();\r\n        data.append('status', 'active');\r\n        data.append('user_id', e.target.value);\r\n\r\n        ApiFunctions.orgChangeStatus(data, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n            window.alert('Sucess');\r\n            window.location.reload();\r\n        }).catch(e => {\r\n            window.alert('Some error occured');\r\n            console.log(e);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n\r\n            <div id=\"wrapper\">\r\n\r\n                <Sidebar />\r\n\r\n                {/* // <!-- Content Wrapper --> */}\r\n                <div id=\"content-wrapper\" className=\"d-flex flex-column\">\r\n\r\n                    {/* <!-- Main Content --> */}\r\n                    <div id=\"content\">\r\n                        <Header />\r\n\r\n                        <div className=\"container-fluid\">\r\n\r\n                            {/* <!-- Page Heading --> */}\r\n                            <div className=\"d-sm-flex align-items-center justify-content-between mb-4\">\r\n                                <h1 className=\"h3 mb-0 text-gray-800\">Organizations</h1>\r\n                                <nav aria-label=\"breadcrumb\">\r\n                                    <ol className=\"breadcrumb\">\r\n                                        <li className=\"breadcrumb-item\"><a href=\"index.php\">Home</a></li>\r\n                                        <li className=\"breadcrumb-item active\" aria-current=\"page\">organizations</li>\r\n                                    </ol>\r\n                                </nav>\r\n                            </div>\r\n\r\n                            <div id=\"list-details\">\r\n\r\n                                <div className=\"table-responsive\">\r\n                                    <table className=\"table table-hover\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th scope=\"col\">Sr. No</th>\r\n                                                <th scope=\"col\">Organization</th>\r\n                                                <th scope=\"col\">Email</th>\r\n                                                <th scope=\"col\">Contact No</th>\r\n                                                <th scope=\"col\">Approval</th>\r\n                                                <th scope=\"col\">Status</th>\r\n                                                <th scope=\"col\">Action</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {list.map((data, id) => {\r\n                                                return <tr key={id}>\r\n                                                    <td>{id + 1}</td>\r\n                                                    <td>{data.org_name}</td>\r\n                                                    <td>{data.email}</td>\r\n                                                    <td>{data.contact_number}</td>\r\n                                                    <td>{data.approval}</td>\r\n                                                    <td>\r\n                                                        <div className=\"row\">\r\n                                                            {data.status === \"inactive\" ?\r\n                                                                <>\r\n                                                                    <div className=\"col-md-4\">\r\n                                                                        <button type=\"button\" className=\"btn btn-success btn-sm\" onClick={ActiveStatus} value={data._id} >Active</button>\r\n\r\n                                                                    </div>\r\n                                                                </>\r\n                                                                :\r\n                                                                data.status === \"active\" ?\r\n                                                                    <>\r\n                                                                        <div className=\"col-md-4\">\r\n                                                                            <button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={InActiveStatus} value={data._id} >In Active</button>\r\n\r\n                                                                        </div>\r\n                                                                    </> :\r\n                                                                    <></>\r\n\r\n                                                            }\r\n                                                        </div>\r\n\r\n\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"row\">\r\n                                                            {data.approval === 'pending' ?\r\n\r\n                                                                <>\r\n                                                                    <div className=\"col-md-4\">\r\n                                                                        <button type=\"button\" className=\"btn btn-success btn-sm\" onClick={Accept} value={data._id}>Accept</button>\r\n\r\n                                                                    </div>\r\n                                                                    <div className=\"col-md-4\">\r\n                                                                        <button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={Reject} value={data._id} >Reject</button>\r\n\r\n                                                                    </div>\r\n                                                                </>\r\n                                                                :\r\n                                                                data.approval === 'approved' ?\r\n                                                                    <>\r\n                                                                        <div className=\"col-md-4\">\r\n                                                                            <button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={Reject} value={data._id} >Reject</button>\r\n\r\n                                                                        </div>\r\n                                                                    </> :\r\n                                                                    data.approval === 'rejected' ?\r\n                                                                        <>\r\n                                                                            <div className=\"col-md-4\">\r\n                                                                                <button type=\"button\" className=\"btn btn-success btn-sm\" onClick={Accept} value={data._id} >Accept</button>\r\n\r\n                                                                            </div>\r\n                                                                        </>\r\n                                                                        :\r\n                                                                        <></>\r\n                                                            }\r\n                                                            \r\n                                                                <div className=\"col-md-4\">\r\n\r\n                                                                    <Link to={\"/jobs-list/\" + data._id} title=\"Jobs listing\"><img src={require('../../imgs/view.jpg').default} width=\"22\" alt=\"\" /></Link>\r\n                                                                </div>\r\n                                                          \r\n                                                            {/* <div className=\"col-md-4\">\r\n                                                                <Link to=\"/#\" ><img src={require('../../imgs/edit.jpg').default} alt=\"\" width=\"22\" /></Link>\r\n                                                            </div>\r\n                                                            <div className=\"col-md-4\">\r\n                                                                <Link to=\"/#\"><img src={require('../../imgs/delete.jpg').default} width=\"22\" alt=\"\" /></Link>\r\n                                                            </div> */}\r\n                                                        </div>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            })}\r\n\r\n\r\n                                        </tbody>\r\n\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* <!-- End of Main Content --> */}\r\n\r\n                    {/* <!-- Footer --> */}\r\n                    <footer className=\"sticky-footer bg-white\">\r\n                        <div className=\"container my-auto\">\r\n                            <div className=\"copyright text-center my-auto\">\r\n                                <span>Copyright Job 2020</span>\r\n                            </div>\r\n                        </div>\r\n                    </footer>\r\n                    {/* <!-- End of Footer --> */}\r\n\r\n                </div>\r\n                {/* <!-- End of Content Wrapper --> */}\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Organizations;"]},"metadata":{},"sourceType":"module"}