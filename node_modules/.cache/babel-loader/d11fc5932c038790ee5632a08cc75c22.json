{"ast":null,"code":"import _regeneratorRuntime from\"E:/developer/xampp/htdocs/shivali/hyre/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/developer/xampp/htdocs/shivali/hyre/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/developer/xampp/htdocs/shivali/hyre/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useHistory,useParams}from\"react-router\";import ApiFunctions from\"../ApiFunctions\";import useToken from\"./admin/useToken\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ApplyJob(){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var token=useToken();if(!token.token){history.push('/admin');}else if(token.token.data.user_role!=='user'){alert('You are an organisation. So you cant apply to a job');history.push('/');}var _useState=useState(token.token.data._id),_useState2=_slicedToArray(_useState,1),user_id=_useState2[0];var _useState3=useState(id),_useState4=_slicedToArray(_useState3,1),job_id=_useState4[0];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),details=_useState6[0],setDetails=_useState6[1];useEffect(function(){var data=new FormData();data.append('user_id',user_id);data.append('job_id',job_id);ApiFunctions.getSingleJobs(data,{headers:{'content-type':'multipart/form-data'}}).then(function(response){// window.alert('Sucess');\nsetDetails(response.data.data[0]);}).catch(function(e){window.alert('Some error occured');});},[job_id,user_id]);var applyJob=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data=new FormData();data.append('job_id',job_id);data.append('user_id',user_id);ApiFunctions.applyJob(data,{headers:{'Authorization':token.token.token,'content-type':'multipart/form-data'}}).then(function(response){window.alert('Sucess');history.push('/browse-jobs');}).catch(function(e){window.alert('Some error occured');console.log(e);});case 5:case\"end\":return _context.stop();}}},_callee);}));return function applyJob(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container dashboard-headline\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Apply Job\"}),/*#__PURE__*/_jsx(\"nav\",{id:\"breadcrumb\",\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"index.php\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:\"Apply Job\"})]})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"pd-main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"profile-content-inner-area\",children:/*#__PURE__*/_jsx(\"form\",{action:\"\",method:\"post\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-box margin-top-0 margin-bottom-30\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"headline\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Job Apply Confirmation\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content with-padding padding-bottom-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"job_id\",value:id}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"user_id\",value:user_id}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-md-12 col-sm-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"submit-field\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Job\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-border\",name:\"name\",value:details.job_title,required:true})]})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:applyJob,className:\"\",children:\"Apply Now\"})]})]})})})})})})})]});}export default ApplyJob;","map":{"version":3,"sources":["E:/developer/xampp/htdocs/shivali/hyre/src/components/ApplyJob.js"],"names":["useEffect","useState","useHistory","useParams","ApiFunctions","useToken","Header","ApplyJob","history","id","token","push","data","user_role","alert","_id","user_id","job_id","details","setDetails","FormData","append","getSingleJobs","headers","then","response","catch","e","window","applyJob","preventDefault","console","log","job_title"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport ApiFunctions from \"../ApiFunctions\";\r\nimport useToken from \"./admin/useToken\";\r\nimport Header from \"./Header\";\r\n\r\n\r\n\r\nfunction ApplyJob() {\r\n\r\nconst history = useHistory();\r\nconst { id } = useParams();\r\n    const token = useToken();\r\n\r\n    if(!token.token){\r\n     history.push('/admin');\r\n    }\r\n    else if(token.token.data.user_role !== 'user'){\r\n        alert('You are an organisation. So you cant apply to a job')\r\n        history.push('/');\r\n    }\r\n\r\n    const [user_id] = useState(token.token.data._id);\r\n    const [job_id] = useState(id);\r\n    const [details,setDetails] = useState('');\r\n    useEffect(() => {\r\n        var data = new FormData();\r\n        data.append('user_id', user_id);\r\n        data.append('job_id', job_id);\r\n     \r\n        ApiFunctions.getSingleJobs(data,{\r\n            headers:{\r\n                'content-type':'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n            // window.alert('Sucess');\r\n            setDetails(response.data.data[0])\r\n        }).catch(e => {\r\n            window.alert('Some error occured');\r\n         \r\n        })\r\n    },[job_id,user_id]);\r\n\r\n    const applyJob = async (e)=>{\r\n        e.preventDefault();\r\n        var data = new FormData();\r\n        data.append('job_id',job_id);\r\n        data.append('user_id',user_id);\r\n\r\n        ApiFunctions.applyJob(data,{\r\n                headers:{\r\n                    'Authorization':token.token.token,\r\n                    'content-type':'multipart/form-data',\r\n                }\r\n            }).then(response => {\r\n                window.alert('Sucess');\r\n                history.push('/browse-jobs')\r\n            }).catch(e => {\r\n                window.alert('Some error occured');\r\n                console.log(e);\r\n            })\r\n\r\n    }\r\n      \r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Header />\r\n            <div className=\"bg-main\">\r\n                <div className=\"container dashboard-headline\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <h3>Apply Job</h3>\r\n                            <nav id=\"breadcrumb\" aria-label=\"breadcrumb\">\r\n                                <ol className=\"breadcrumb\">\r\n                                    <li className=\"breadcrumb-item\"><a href=\"index.php\">Home</a></li>\r\n                                    <li className=\"breadcrumb-item active\" aria-current=\"page\">Apply Job</li>\r\n                                </ol>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"pd-main\">\r\n                <div className=\"container\">\r\n                    <div className=\"profile-content-inner-area\">\r\n                        <form action=\"\" method=\"post\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-xl-12\">\r\n                                    <div className=\"dashboard-box margin-top-0 margin-bottom-30\">\r\n                                        <div className=\"headline\">\r\n                                            <h3>Job Apply Confirmation</h3>\r\n                                        </div>\r\n                                        <div className=\"content with-padding padding-bottom-0\">\r\n                                            <div className=\"row\">\r\n                                            <input type=\"hidden\" name=\"job_id\" value={id}   />\r\n                                            <input type=\"hidden\" name=\"user_id\" value={user_id}   />\r\n\r\n                                                <div className=\"col-xl-12 col-md-12 col-sm-12\">\r\n                                                    <div className=\"submit-field\">\r\n                                                        <h5>Job</h5>\r\n                                                        <input type=\"text\" className=\"input-border\" name=\"name\" value={details.job_title} required />\r\n                                                    </div>\r\n                                                </div>  \r\n                                                {/* <div className=\"col-xl-6 col-md-6 col-sm-6\">\r\n                                                    <div className=\"submit-field\">\r\n                                                        <h5>Last Name</h5>\r\n                                                        <input type=\"text\" className=\"input-border\" name=\"name\" value=\"Adam Dale\" required />\r\n                                                    </div>\r\n                                                </div> */}\r\n                                            \r\n                                                {/* <div className=\"col-xl-12 col-md-6 col-sm-6\">\r\n                                                    <div className=\"submit-field\">\r\n                                                        <h5>Upload Resume</h5>\r\n                                                        <input type=\"file\" name=\"upload_resume\" />\r\n                                                    </div>\r\n                                                </div> */}\r\n                                            </div>\r\n                                            <button type=\"submit\" onClick={applyJob} className=\"\">Apply Now</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ApplyJob;"]},"metadata":{},"sourceType":"module"}